# 로또 게임

## 🔍 로또 게임 규칙
+ 로또를 사봤다면 게임의 규칙을 간단히 이해할 수 있을 것이다.  
당첨 번호와 내가 구매한 로또 번호를 비교해 똑같은 번호가 많을수록 더 많은 상금을 타갈 수 있다.  
구매한 로또는 기본적으로 6개의 번호를 가지고, 당첨 번호는 이에 보너스 번호가 포함돼 총 7개의 번호로 구성되어있다.  
하나의 로또에는 중복되는 번호가 있으면 안되며, 번호 하나당 범위는 1~45이다.  
2,3등이 보너스 번호에 의해 결정되는 구조인데 기본번호 5개가 동일하면 3등,여기에 보너스 번호까지 동일하면 2등이 된다.  
구매한 로또의 번호는 랜덤이며 구매자가 정할 수 없다. 당첨 번호도 원래는 랜덤으로 산출하는데 여기서는 입력을 통해 당첨번호를 산출하도록 한다.  
이제 한 번 로또 게임을 시작해보도록 하자!


## 🔍 기본 입력
+ Input : 모든 입력은 이 객체를 거쳐서 처리된다. 
  + 이 과정에 필요한 유효성 검사는 아래와 같이 2가지로 나눠진다.
    + 입력에 숫자와 쉼표외에 다른 문자가 있으면 안되므로 이를 확인.
    + 입력이 빈 문자열이면 안되므로 이를 확인.


## 🔍 model에 대한 설명.

### 게임 진행을 위해 필요한 객체는 크게 4가지로 나눠진다. 객체를 통해 산출한 정보들을 저장해둔다.
+ Lotto : 번호 6개를 담는 가장 기본형 객체이다. 유효성 검사와 오름차순 정렬을 거쳐 최종적으로 저장된다.
  + 이 과정에 필요한 유효성 검사 단계는 아래와 같이 3가지로 나눠진다. 검사를 통해 잘못된 데이터에 대한 예외가 발생된다.
    1. 로또 번호의 개수가 6개인지 확인.
    2. 각 번호가 1~45의 로또 숫자 범위 안에 있는지 확인.
    3. 번호 중 중복된 번호가 있는지 확인.
+ BoughtLottos : 구매한 로또들을 저장하는 객체이자 Lotto 객체에 대한 일급 컬렉션이다.
  + 객체를 생성할 때 필요한 기능은 크게 2가지로 나눠진다.
    1. 중복되지 않는 랜덤한 번호 6개를 생성하고, 이를 저장할 로또 객체 한개를 생성.
    2. a에 따라 지불한 금액만큼 로또 객체를 생성하고 로또 리스트에 대한 정보를 저장. 
+ WinningLotto : 당첨 번호의 정보를 담는 객체이다. 필드가 기본형 로또 객체와 보너스 번호를 저장할 변수로 구성되어있다.
  + 이 과정에 필요한 유효성 검사는 아래와 같이 2가지로 나눠진다. 검사를 통해 잘못된 데이터에 대한 예외가 발생된다.
    + 1. 보너스 번호가 로또 숫자 범위 안에 있는지 확인.
    + 2. 기본 로또번호와 보너스 번호가 중복되는지 확인.
+ Statistics : 산출한 통계 정보를 담는 객체이다. 먼저 당첨된 등수를 누적하고 이를 토대로 수익률을 산출한다.

## 🔍 process에 대한 설명.

### 게임 진행에 필요한 단계는 4가지로 나눠진다. 아래 단계들이 순서대로 진행된다.
+ Buying : 로또를 구입하는 과정을 담당한다. 금액을 입력받아 금액 만큼의 로또를 사들이는 것으로 과정이 마무리된다.
  + 금액을 먼저 입력 받는다. 금액은 1,000원 단위로만 입력이 가능하며 한 번에 최대 100,000원 까지만 구입이 가능하다.
      + 이 과정에 필요한 유효성 검사 단계는 아래와 같이 2가지로 나눠진다.
        + 문자열에 숫자외에 쉼표있거나 길이가 7을 넘어가는지 확인.
        + 정수로 변환된 값이 1,000~100,000사이에 있는지 또 1,000으로 나눠 떨어지는지 확인.
  +  BoughtLottos 객체로 금액을 1,000으로 나눈 값에 따라 로또들을 만들고 저장해둔다.
+ WinningLottoRegister : 사용자의 당첨 번호 입력을 처리하는 과정을 담당한다. 알맞은 형태로 당첨 번호가 저장된다.
  + 기본 번호 6개를 먼저 입력 받는다. 숫자 6개와 쉼표 5개가 번갈아가면서 입력되어야 한다.
    + 이 과정에 필요한 유효성 검사 단계는 아래와 같이 3가지로 나눠진다.
      + 입력의 길이가 17이하인지 검사.
      + 각 쉼표앞에 숫자가 존재하는지 검사.
      + 마지막 숫자가 존재하는지 검사.
  + 보너스 번호를 입력 받는다.
    + 이 과정에 필요한 유효성 검사 단계는 아래와 같이 2가지로 나눠진다.
      + 입력의 길이가 2이하인지 검사.
      + 쉼표가 없는지 검사.
  + 입력 받은 값들은 정수 자료형으로 값이 변해 WinningLotto 객체에 저장된다.
+ StatisticsCalculator : 당첨 번호와 구매한 로또 번호를 구매하여 통계를 산출하는 과정을 담당한다.
  + 전에 처리된 구매한 로또들와 당첨 로또 번호들에 대한 정보를 가져온다.
  + LottoComparison : 당첨 로또와 구매한 로또 하나를 가져와 비교한다.
    + 당첨 기본 번호에 구매한 로또 기본 번호들이 포함되어있는 개수를 센다.
    + 구매한 로또 기본 번호에 당첨 보너스 번호가 포함되어있는지 확인한다.
    + 센 번호를 가지고 등수를 따진다.
  + 따진 등수는 Statistics 객체에 누적되어 저장된다.
  + 모든 구매 로또에 대한 등수 산정을 진행한다.
  + 산정한 값을 이용해 통계를 낸다.
    + 누적 상금 산출.
    + 수익률 산출.

## 🔍 View에 대한 설명.

### 게임을 진행할 때 필요한 안내 문구를 담당한다.
+ BuyingView : 로또 구입을 진행할 때 필요한 안내 문구를 담당한다.
  + 아래와 같이 2가지 안내 문구가 존재한다.
    + 금액을 입력하라는 문구.
    + 금액에 따라 구매한 개수를 안내해주는 문구.
+ WinningLottoRegisterView : 당첨 번호 입력에 필요한 안내 문구를 담당한다.
  + 아래와 같이 2가지 안내 문구가 존재한다.
    + 당첨 기본 번호 6개를 입력하라는 문구.
    + 당첨 보너스 번호를 입력하라는 문구.
+ StatisticsView : 위에서 최종적으로 산출된 통계를 보여주는 역할을 한다.
  + 아래와 같이 2가지 안내 출력이 존재한다.
    + 당첨된 내역을 정리해서 보여주는 출력.
    + 이에 따른 수익률 출력.

